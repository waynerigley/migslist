<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up - MIGS List</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="signup-page">
  <!-- Navigation -->
  <nav class="signup-nav">
    <div class="nav-container">
      <a href="/" class="nav-brand-link">
        <img src="/logo.png" alt="MIGS List" class="nav-logo">
        <span>MIGS List</span>
      </a>
      <div class="nav-actions">
        <a href="/" class="btn btn-outline">Sign In</a>
      </div>
    </div>
  </nav>

  <div class="signup-container">
    <div class="signup-header">
      <span class="hero-badge">30-Day Free Trial</span>
      <h1>Start Your Free Trial</h1>
      <p>No credit card required. Get your local set up in minutes.</p>
    </div>

    <div class="signup-content">
      <div class="signup-card">
        <% if (typeof error !== 'undefined' && error) { %>
          <div class="alert alert-error"><%= error %></div>
        <% } %>

        <form action="/signup" method="POST">
          <div class="form-section">
            <div class="section-title">
              <span class="section-number">1</span>
              <h2>Union Information</h2>
            </div>

            <div class="form-group">
              <label for="union_name">Union Local Name <span class="required">*</span></label>
              <input type="text" id="union_name" name="union_name" required
                     placeholder="Enter Local name and Number (e.g., CUPE 1234)"
                     value="<%= typeof formData !== 'undefined' ? formData.union_name || '' : '' %>">
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <span class="section-number">2</span>
              <h2>President Account</h2>
            </div>
            <p class="section-note">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
              As the President, you are the primary account holder. You can add Recording Secretaries (data entry staff) after signing up.
            </p>

            <div class="form-row">
              <div class="form-group">
                <label for="admin_first_name">First Name <span class="required">*</span></label>
                <input type="text" id="admin_first_name" name="admin_first_name" required
                       value="<%= typeof formData !== 'undefined' ? formData.admin_first_name || '' : '' %>">
              </div>
              <div class="form-group">
                <label for="admin_last_name">Last Name <span class="required">*</span></label>
                <input type="text" id="admin_last_name" name="admin_last_name" required
                       value="<%= typeof formData !== 'undefined' ? formData.admin_last_name || '' : '' %>">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="admin_email">Email <span class="required">*</span></label>
                <input type="email" id="admin_email" name="admin_email" required
                       placeholder="your@email.com"
                       autocomplete="email"
                       value="<%= typeof formData !== 'undefined' ? formData.admin_email || '' : '' %>">
              </div>
              <div class="form-group">
                <label for="admin_phone">Phone</label>
                <input type="tel" id="admin_phone" name="admin_phone"
                       placeholder="(555) 123-4567"
                       value="<%= typeof formData !== 'undefined' ? formData.admin_phone || '' : '' %>">
              </div>
            </div>

            <div class="form-group">
              <label for="admin_password">Password <span class="required">*</span></label>
              <input type="password" id="admin_password" name="admin_password" required
                     placeholder="Minimum 8 characters" minlength="8"
                     autocomplete="new-password">
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-lg btn-block">Start 30-Day Free Trial</button>
            <p class="form-note">By signing up, you agree to our <a href="#" onclick="openTermsModal(); return false;">Terms of Service</a>.</p>
          </div>
        </form>
      </div>

      <div class="signup-sidebar">
        <div class="info-card">
          <div class="info-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
            <h3>Role-Based Access</h3>
          </div>
          <div class="role-item">
            <strong>President (You)</strong>
            <ul>
              <li>Full account control</li>
              <li>Add/remove Recording Secretaries</li>
              <li>Delete units/sectionals</li>
              <li>All data access</li>
            </ul>
          </div>
          <div class="role-item">
            <strong>Recording Secretaries (Data Entry)</strong>
            <ul>
              <li>Create units/sectionals</li>
              <li>Add/edit members</li>
              <li>Upload documents</li>
              <li>Export reports</li>
            </ul>
          </div>
          <p class="info-note">Add Recording Secretaries anytime from your Team page after signup.</p>
        </div>

        <div class="price-card">
          <div class="price-badge">New Accounts</div>
          <div class="price-header">First Year</div>
          <div class="price-amount">
            <span class="currency">$</span>
            <span class="value">500</span>
            <span class="period">/year</span>
          </div>
          <div class="price-regular">
            <span class="strikethrough">$800</span> regular price
          </div>
          <div class="price-savings">Save $300 your first year!</div>
          <ul class="price-features">
            <li>Unlimited members</li>
            <li>Unlimited units/sectionals</li>
            <li>Unlimited users</li>
            <li>Free onboarding support</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .signup-page {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f8fafc;
      min-height: 100vh;
      color: #1a1a2e;
      line-height: 1.6;
    }

    .signup-nav {
      background: white;
      border-bottom: 1px solid #e5e7eb;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.25rem;
      font-weight: 700;
      color: #1a1a2e;
      text-decoration: none;
    }

    .nav-logo {
      height: 36px;
      width: auto;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.625rem 1.25rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.9375rem;
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
      border: none;
    }

    .btn-primary {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      color: white;
      box-shadow: 0 2px 4px rgba(37, 99, 235, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
    }

    .btn-outline {
      background: transparent;
      color: #4b5563;
      border: 1px solid #d1d5db;
    }

    .btn-outline:hover {
      background: #f9fafb;
    }

    .btn-lg {
      padding: 0.875rem 1.75rem;
      font-size: 1rem;
    }

    .btn-block {
      width: 100%;
    }

    .signup-container {
      max-width: 950px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }

    .signup-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .hero-badge {
      display: inline-block;
      background: #dcfce7;
      color: #166534;
      padding: 0.375rem 1rem;
      border-radius: 100px;
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .signup-header h1 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .signup-header p {
      color: #6b7280;
      font-size: 1.0625rem;
    }

    .signup-content {
      display: grid;
      grid-template-columns: 1fr 280px;
      gap: 2rem;
      align-items: start;
    }

    .signup-card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      padding: 2rem;
    }

    .form-section {
      margin-bottom: 2rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid #e5e7eb;
    }

    .form-section:last-of-type {
      border-bottom: none;
      margin-bottom: 1.5rem;
      padding-bottom: 0;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
    }

    .section-number {
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .section-title h2 {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .section-note {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      background: #f0f9ff;
      border: 1px solid #bae6fd;
      border-radius: 8px;
      padding: 0.875rem;
      font-size: 0.875rem;
      color: #0369a1;
      margin-bottom: 1.25rem;
    }

    .section-note svg {
      width: 18px;
      height: 18px;
      flex-shrink: 0;
      margin-top: 1px;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-group label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      margin-bottom: 0.375rem;
      color: #374151;
    }

    .required {
      color: #dc2626;
    }

    .form-group input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.9375rem;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .form-group input:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .form-actions {
      text-align: center;
    }

    .form-note {
      font-size: 0.8125rem;
      color: #9ca3af;
      margin-top: 1rem;
    }

    .signup-sidebar {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .info-card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .info-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid #e5e7eb;
    }

    .info-header svg {
      width: 20px;
      height: 20px;
      color: #2563eb;
    }

    .info-header h3 {
      font-size: 1rem;
      font-weight: 600;
    }

    .role-item {
      margin-bottom: 1rem;
    }

    .role-item strong {
      display: block;
      font-size: 0.875rem;
      color: #1a1a2e;
      margin-bottom: 0.375rem;
    }

    .role-item ul {
      list-style: none;
      padding-left: 0;
    }

    .role-item li {
      font-size: 0.8125rem;
      color: #6b7280;
      padding: 0.25rem 0;
      padding-left: 1rem;
      position: relative;
    }

    .role-item li::before {
      content: "âœ“";
      position: absolute;
      left: 0;
      color: #22c55e;
      font-size: 0.75rem;
    }

    .info-note {
      font-size: 0.8125rem;
      color: #6b7280;
      background: #f9fafb;
      padding: 0.75rem;
      border-radius: 6px;
      margin-top: 0.5rem;
    }

    .price-card {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      color: white;
      border-radius: 12px;
      padding: 1.5rem;
      padding-top: 2rem;
      text-align: center;
      position: relative;
      margin-top: 0.5rem;
    }

    .price-header {
      font-size: 0.8125rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      opacity: 0.9;
      margin-bottom: 0.5rem;
    }

    .price-amount {
      display: flex;
      align-items: flex-start;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .price-amount .currency {
      font-size: 1.25rem;
      margin-top: 0.375rem;
    }

    .price-amount .value {
      font-size: 2.5rem;
      font-weight: 700;
      line-height: 1;
    }

    .price-amount .period {
      font-size: 1rem;
      opacity: 0.9;
      margin-top: 0.75rem;
    }

    .price-features {
      list-style: none;
      font-size: 0.875rem;
      opacity: 0.9;
    }

    .price-features li {
      padding: 0.25rem 0;
    }

    .price-badge {
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: #fbbf24;
      color: #78350f;
      font-size: 0.75rem;
      font-weight: 700;
      padding: 0.25rem 0.75rem;
      border-radius: 100px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .price-regular {
      font-size: 1.1rem;
      opacity: 0.9;
      margin-bottom: 0.75rem;
    }

    .strikethrough {
      text-decoration: line-through;
      opacity: 0.8;
      font-weight: 600;
    }

    .price-savings {
      background: rgba(255, 255, 255, 0.25);
      padding: 0.625rem 1.25rem;
      border-radius: 8px;
      font-size: 0.9375rem;
      font-weight: 700;
      margin-bottom: 1rem;
      border: 2px solid rgba(255, 255, 255, 0.5);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.4), 0 0 30px rgba(255, 255, 255, 0.2);
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.3), 0 0 20px rgba(255, 255, 255, 0.15);
      }
      to {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.5), 0 0 40px rgba(255, 255, 255, 0.3);
      }
    }

    .alert {
      padding: 0.875rem 1rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      font-size: 0.9375rem;
    }

    .alert-error {
      background: #fef2f2;
      border: 1px solid #fecaca;
      color: #dc2626;
    }

    @media (max-width: 768px) {
      .signup-content {
        grid-template-columns: 1fr;
      }

      .signup-sidebar {
        order: -1;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .signup-header h1 {
        font-size: 1.5rem;
      }
    }

    @media (prefers-color-scheme: dark) {
      .signup-page {
        background: #0f172a;
        color: #e2e8f0;
      }

      .signup-nav {
        background: #1e293b;
        border-bottom-color: #334155;
      }

      .nav-brand-link {
        color: #e2e8f0;
      }

      .signup-header h1 {
        color: #e2e8f0;
      }

      .signup-header p {
        color: #94a3b8;
      }

      .signup-card, .info-card {
        background: #1e293b;
      }

      .form-section {
        border-bottom-color: #334155;
      }

      .section-title h2 {
        color: #e2e8f0;
      }

      .section-note {
        background: #1e3a5f;
        border-color: #1e40af;
        color: #93c5fd;
      }

      .form-group label {
        color: #cbd5e1;
      }

      .form-group input {
        background: #0f172a;
        border-color: #475569;
        color: #e2e8f0;
      }

      .form-group input:focus {
        border-color: #3b82f6;
      }

      .info-header {
        border-bottom-color: #334155;
      }

      .info-header h3 {
        color: #e2e8f0;
      }

      .role-item strong {
        color: #e2e8f0;
      }

      .role-item li {
        color: #94a3b8;
      }

      .info-note {
        background: #0f172a;
        color: #94a3b8;
      }

      .btn-outline {
        color: #94a3b8;
        border-color: #475569;
      }
    }

    /* Terms Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(4px);
    }
    .modal-content {
      background: white;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      display: flex;
      flex-direction: column;
      animation: modalSlideIn 0.2s ease-out;
    }
    @keyframes modalSlideIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid #e5e7eb;
      flex-shrink: 0;
    }
    .modal-header h3 {
      margin: 0;
      font-size: 1.25rem;
    }
    .modal-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
      line-height: 1;
      padding: 0;
    }
    .modal-close:hover {
      color: #1a1a2e;
    }
    .modal-body {
      padding: 1.5rem;
      overflow-y: auto;
      flex: 1;
    }
    .modal-body h4 {
      font-size: 1rem;
      margin: 1.25rem 0 0.5rem 0;
      color: #1a1a2e;
    }
    .modal-body h4:first-child {
      margin-top: 0;
    }
    .modal-body p, .modal-body li {
      font-size: 0.9375rem;
      color: #4b5563;
      line-height: 1.6;
      margin-bottom: 0.75rem;
    }
    .modal-body ul {
      padding-left: 1.25rem;
      margin-bottom: 0.75rem;
    }
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      padding: 1rem 1.5rem;
      border-top: 1px solid #e5e7eb;
      background: #f9fafb;
      border-radius: 0 0 12px 12px;
      flex-shrink: 0;
    }
    .form-note a {
      color: #2563eb;
      text-decoration: none;
    }
    .form-note a:hover {
      text-decoration: underline;
    }
    @media (prefers-color-scheme: dark) {
      .modal-content {
        background: #1e293b;
      }
      .modal-header {
        border-bottom-color: #334155;
      }
      .modal-header h3 {
        color: #e2e8f0;
      }
      .modal-close {
        color: #94a3b8;
      }
      .modal-close:hover {
        color: #e2e8f0;
      }
      .modal-body h4 {
        color: #e2e8f0;
      }
      .modal-body p, .modal-body li {
        color: #94a3b8;
      }
      .modal-footer {
        background: #0f172a;
        border-top-color: #334155;
      }
      .form-note a {
        color: #60a5fa;
      }
    }
  </style>

<!-- Terms of Service Modal -->
<div id="termsModal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Terms of Service</h3>
      <button type="button" class="modal-close" onclick="closeTermsModal()">&times;</button>
    </div>
    <div class="modal-body">
      <p><strong>Effective Date:</strong> January 1, 2025</p>

      <h4>1. Acceptance of Terms</h4>
      <p>By accessing and using MIGS List ("the Service"), you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use the Service.</p>

      <h4>2. Description of Service</h4>
      <p>MIGS List provides union locals with a membership management platform for tracking members, managing documents, and maintaining good standing records.</p>

      <h4>3. User Accounts</h4>
      <ul>
        <li>You are responsible for maintaining the confidentiality of your account credentials</li>
        <li>You agree to provide accurate and complete information during registration</li>
        <li>You are responsible for all activities that occur under your account</li>
      </ul>

      <h4>4. Data Privacy</h4>
      <ul>
        <li>We collect and store member data solely for the purpose of providing the Service</li>
        <li>We do not sell or share your data with third parties</li>
        <li>You retain ownership of all data you upload to the Service</li>
        <li>We implement industry-standard security measures to protect your data</li>
      </ul>

      <h4>5. Subscription & Payment</h4>
      <ul>
        <li>The Service offers a 30-day free trial period</li>
        <li>After the trial, continued use requires an active subscription ($500/year first year, $800/year after)</li>
        <li>Subscriptions are billed annually and are non-refundable</li>
      </ul>

      <h4>6. Acceptable Use</h4>
      <p>You agree not to:</p>
      <ul>
        <li>Use the Service for any unlawful purpose</li>
        <li>Upload malicious content or attempt to compromise the system</li>
        <li>Share account access with unauthorized users</li>
        <li>Resell or redistribute the Service without authorization</li>
      </ul>

      <h4>7. Termination</h4>
      <p>We reserve the right to suspend or terminate accounts that violate these terms. Upon termination, you may request an export of your data within 30 days.</p>

      <h4>8. Limitation of Liability</h4>
      <p>The Service is provided "as is" without warranties of any kind. We are not liable for any indirect, incidental, or consequential damages arising from your use of the Service.</p>

      <h4>9. Changes to Terms</h4>
      <p>We may update these terms from time to time. Continued use of the Service after changes constitutes acceptance of the new terms.</p>

      <h4>10. Contact</h4>
      <p>For questions about these Terms of Service, please contact us at support@migslist.com</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" onclick="closeTermsModal()">I Understand</button>
    </div>
  </div>
</div>

<script>
function openTermsModal() {
  document.getElementById('termsModal').style.display = 'flex';
}
function closeTermsModal() {
  document.getElementById('termsModal').style.display = 'none';
}
document.getElementById('termsModal')?.addEventListener('click', function(e) {
  if (e.target === this) closeTermsModal();
});
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closeTermsModal();
});
</script>
</body>
</html>
